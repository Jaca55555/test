<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
</head>
<body th:fragment="position_add">

<div id="add_position" class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" th:text="#{mgmt_position.add}">Modal Title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
            </div>
            <form method="post" id="addPosition" data-parsley-validate="" >
                <div class="modal-body">
                    <div class="form-group">
                        <label class="col-form-label" for="name"><span th:text="#{mgmt_position.name}"></span> <span class="text-danger">*</span></label>
                        <input class="form-control" type="text" id="name" name="name" required="required" >
                    </div>
                    <div class="form-group">
                        <label class="col-form-label" for="name"><span th:text="#{mgmt_position.nameRu}"></span> <span class="text-danger">*</span></label>
                        <input class="form-control" type="text" id="nameRu" name="nameRu" required="required" >
                    </div>
                    <div class="form-group">
                        <label for="organizationId" class="col-form-label" th:text="#{mgmt_position.organization}"></label>
                        <select class="form-control singleSelect" id="organizationId" name="organizationId" required="">
                            <option value="" th:text="#{sys_select}"></option>
                            <option th:each="organization : ${organizationList}" th:value="${organization.id}" th:text="${organization.name}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="col-form-label" for="name"><span th:text="#{mgmt_position.docIndex}"></span> <span class="text-danger">*</span></label>
                        <input class="form-control" type="text" id="docIndex" name="docIndex" required="required" >
                    </div>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <input type="hidden" name="id" id="id" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-lg" data-dismiss="modal" th:text="#{sys_cancel}">Отменить</button>
                    <button type="submit" class="btn btn-primary btn-lg" th:text="#{sys_add}">Добавить</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script th:inline="javascript">
    function editPosition(id,name,nameRu,organizationId,docIndex) {
        $('#name').val(name);
        $('#nameRu').val(nameRu);
        $('#organizationId').val(organizationId);
        $('#docIndex').val(docIndex);
        $('#id').val(id);
        $('#addPosition').prop('action',[[${edit_url}]]);
    }
    function addPosition() {
        $('#name').val("");
        $('#nameRu').val("");
        $('#organizationId').val("");
        $('#docIndex').val("");
        $('#addPosition').prop('action',[[${create_url}]]);
    }
</script>
</body>
</html>